---
title: "210119-TIL"

categories:
  - til
tags:
  - til
---

# TIL

- 페스포트 페이지 구현 (유저정보 핸들링 및 수정)

- 사가 및 타입스크립트 공부

# Thinking

- 리액트로는 30분이면 만들 것을 사가랑 타입스크립트로 만드려니 엄청난 시간이 걸렸다. 처음 해보는 문법이 어색하며, 계속해서 오류가 나는데 어떤 오류이고 어떻게 수정해야하는지 공부하는데 많은 시간이 필요했다. 특히 조금이라도 복잡한 타입의 데이터를 파라미터로 보내고 받는 것이 여간 까다로운 일이 아닌다.

- 타입스크립트는 null과 undfined도 명확하게 구분하기에 이것또한 명확히 잡아줘야 한다. 혹여나 비즈니스 로직에서 null을 허용해줬다면, 내부 컨테이너나 컴포넌트 로직에서도 이를 체크해줘야 한다. useState 등에서 초기값을 공백값을 넣었으면, 제네릭으로 string의 특정 타입을 정해줬어도 <string | undefined>의 타입으로 추론되고 설정된다. 그렇기에 해당 상태롤 여러 이벤트에서 공통되서 활용되명 <string | undeifned | null> 등의 타입이 번복된다.

- 사가에서는 성공시 말고도 요청 시의 loading, erroor, data 값들을 초기값 등으로 설정할 수 있다. 이렇게 될 경우 혹여나 해당 값으로 useEffect로 라이프사이클에 걸릴 시에 반복되는 여러 사이드 이펙트가 일어 날 수가 있다. 이러한 사이드 이펙트가 안 일어나기 위해서는 사가 요청시의 리듀서 값들도 생각하고 정해줘야 한다. 막연하게 null값 등을 넣으면 중복호출이 많아 질 것이다.

- useDispatch를 호출하는 위치도 컴포넌트 스콥프 안에 존재할 수 있도록 주의해야 한다.

- 유저정보를 수정하였을 때, 요청에 대한 응답으로 렌더해야할지, 사용자가 입력한 정보로 해야할지, 아니면 유저정보를 새로 get요청을 해야할지 고민되었다. 여러 유명한 사이트를 찾아보니 새로 새로운 유저정보를 요청하는게 국룩인 듯 싶다. 이런 간단한 로직차이에서 코드가 완전히 달라져 버리니 항시 생각하면서 코드를 짜야겠다.

---
title: "210118-TIL"

categories:
  - til
tags:
  - til
---

# TIL

- 리덕스 썽크, 사가, 그리고 타입스크리트

- 프로젝트 메인 페이지 모달, 페스포트 페이지 구현

# Thinking

- 하루종일 리덕스 미들웨어와 싸웠다. 미들웨어라고 해서 그냥 간단한 라이브러리 하나 더 쓰는 개념으로 생각했는데, 사가 이 녀석이 생각보다 많이 복잡하고, 이해해야할게 많았다. 매우 느끼는 것이지만 단순히 기능 구현이 중요한 것이 아니라 왜 사용하고 어떻게 처리되는지 그 원리와 개념을 명확히 알아야한다.

- 시작/성공/실패가 긴밀하게 연결되어있는 서브 트랙잭션의 집합을 효과적으로 처리하는 방법. 비동기/캐시와 같은 사이드 이펙트 흐름제어를 위해. 테스트 가능하고 가시적으로.

- 사가는 액션 리스너이다. 계속해서 액션을 지켜보다 일치하는 타입이 들어오면 캐치하고 해당하는 제너레이터 함수를 실행시켜주는 방식이다. 이러한 사가는 사이드 이펙트를 쉽게 관리할 수 있게 도와준다. 비동기 및 캐시 작업들은 상황에 따라 예상치 못한 사이드 이팩트를 가져오기 바련이다.

- 하지만 사가는 시작, 성공, 실패 등 실제 서비스 로직들은 모두 사가 내부에서 처리하며 그 결과를 액션으로 다시 발행한다. 그렇기에 컴포넌트, 액션, 리듀서 등 모두 다 순수함수로 사이드 이펙트 없이 구현이 가능하다.

- 또한, 썽크는 어떤 액션은 객체를, 어떤 액션은 함수를 , 어떤 액션은 디스패치가 호출 되는 등 액션 생성자가 일관되지 않게 객체를 반환한다. 또한 클로저 패턴을 사용하기에 소스가 지저분하고 가독성이 떨어진다. 사가는 액션 생성자가 일관성이 있으며 보다 직관적으로 사용이 가능하다.

- 공부를 하면 할 수록 매력있는 놈이다. 정말 리덕스를 강력하게 만들어 주는 놈인거 같다.

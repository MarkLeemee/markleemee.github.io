---
title: "210202-TIL"

categories:
  - til
tags:
  - til
---

# TIL

- 관리자 페이지

- 새로고침 시에도 로그인 유지

# Thinking

- 어릴 때부터 특정 사이트나 앱 등을 사용할 때 관리자 페이지를 보면 뭔가 멋있다는 생각이 강했다. CSS 등 디자인이 전혀 안된 페이지로 알 수 없는 용어와 기능들이 가득한 그런 페이지. 그래서 CSS 디자인이 완전히 없이 관리자 페이지를 구현시켰다. 이것으로 이번 프로젝트에서도 CRUD를 다 구현시킬 수 있었다.

- 페스티벌과 아티스트 백업 데이터를 올릴 수 있는 페이지. 장르, 나라, 페스티벌, 아티스트 디비들이 서로 엮여있기에, 아무리 관리자라 하여도 그 많은 카테고리와 아티스트, 페스티벌을 일일히 입력하는 건 아니라고 생각했다. 그래서 관리자 페이지만 카테고리를 백에서 불러와 select에서 선택할 수 있도록 구성하였다. 약간 까다로웠던 것은 select에서 여러 개값을 동시에 선택하여 배열형태로 담아 업데이트할 데이터 객체 속성 안에 넣는 작업을 일일히 구현해야한다는 것이었다. 물론 라이브러리가 있지만 공부삼아 직접 구현시켜보았다.

- 2주차 프로젝트에서는 accessToken과 refreshToken 둘다 활용하여 localstoage에도 accessToken을 저장하여 관리하였다. 그렇기에 새로고침하여도 로그인이 깨지지 않을 수 있었다. 하지만 이번에는 쿠키에만 토큰을 담아 state로만 isLogin을 관리하다 보니 새로고침 시에 상태값이 init으로 돌아가 유지가 안되는 문제가 있었다. 그래서 쿠키에 토큰이 유효할 때, 새로고침을 하여도 로그인이 유지될 수 있는 로직을 추가로 구현하였다.

- 이제 프로젝트가 얼추 끝났으니 회고록 및 정리 자료를 만들어 봐야겠다.
